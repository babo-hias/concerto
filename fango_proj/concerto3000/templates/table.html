{% extends 'base.html' %}

{% block content %}
{% if user.is_authenticated %}

<script>
        $(document).ready( function () {
            $('#show_table').DataTable({
                scrollX: "100%",
                scrollY: '47vh',
                scrollCollapse: true,
                responsive: true,
                paging:false,
                order: [[4, 'desc']],
            });
        } );
</script>

<table id="show_table" class="table table-hover table-sm fw-light" style="width: 100%;">
                <thead>
                    <!--
                    {% for x in header %}
                    <th class="table-dark">{{ x }}</th>
                    {% endfor %}
                    -->
                    <th class="table-dark">Artist</th>
                    <th class="table-dark">Ort</th>
                    <th class="table-dark">Location</th>
                    <th class="table-dark">Kosten</th>
                    <th class="table-dark">Jahr</th>

                </thead>
                <tbody>
                    {% for x in shows %}
                    <tr class="table-light">
                        <td>{{ x.artist }}</td>
                        <td>{{ x.ort }}</td>
                        <td>{{ x.location }}</td>
                        <td>{{ x.kosten }}</td>
                        <td>{{ x.jahr }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
            <a class="btn btn-success" href="add/" style="margin-left: 20px; margin-top: 15px;">Add single show</a>
            <a class="btn btn-primary" href="add_txt/" style="margin-left: 20px; margin-top: 15px;">Add shows as .txt-file</a>
            <a class="btn btn-danger" href="delete/"style="margin-left: 20px; margin-top: 15px;">Delete shows</a>
{% else %}
<div style="margin:20px;">
<p>You are not logged in</p>
  <a class="btn btn-success" href="{% url 'login' %}">Log In</a>
</div>
    {% endif %}

{% endblock %}